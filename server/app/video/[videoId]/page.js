(() => {
var exports = {};
exports.id = 739;
exports.ids = [739];
exports.modules = {

/***/ 97783:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/@edge-runtime/cookies");

/***/ }),

/***/ 18038:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react");

/***/ }),

/***/ 98704:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react-dom/server-rendering-stub");

/***/ }),

/***/ 97897:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react-server-dom-webpack/client");

/***/ }),

/***/ 56786:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react/jsx-runtime");

/***/ }),

/***/ 3280:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/app-router-context.js");

/***/ }),

/***/ 69274:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/hooks-client-context.js");

/***/ }),

/***/ 11751:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/add-path-prefix.js");

/***/ }),

/***/ 21668:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/handle-smooth-scroll.js");

/***/ }),

/***/ 1897:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/is-bot.js");

/***/ }),

/***/ 28854:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/parse-path.js");

/***/ }),

/***/ 93297:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/remove-trailing-slash.js");

/***/ }),

/***/ 3349:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/server-inserted-html.js");

/***/ }),

/***/ 41808:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AppRouter": () => (/* reexport default from dynamic */ next_dist_client_components_app_router__WEBPACK_IMPORTED_MODULE_0___default.a),
/* harmony export */   "GlobalError": () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_3___default.a),
/* harmony export */   "LayoutRouter": () => (/* reexport default from dynamic */ next_dist_client_components_layout_router__WEBPACK_IMPORTED_MODULE_1___default.a),
/* harmony export */   "RenderFromTemplateContext": () => (/* reexport default from dynamic */ next_dist_client_components_render_from_template_context__WEBPACK_IMPORTED_MODULE_2___default.a),
/* harmony export */   "__next_app_webpack_require__": () => (/* binding */ __next_app_webpack_require__),
/* harmony export */   "pages": () => (/* binding */ pages),
/* harmony export */   "renderToReadableStream": () => (/* reexport safe */ next_dist_compiled_react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_7__.renderToReadableStream),
/* harmony export */   "requestAsyncStorage": () => (/* reexport safe */ next_dist_client_components_request_async_storage__WEBPACK_IMPORTED_MODULE_5__.requestAsyncStorage),
/* harmony export */   "serverHooks": () => (/* reexport module object */ next_dist_client_components_hooks_server_context__WEBPACK_IMPORTED_MODULE_6__),
/* harmony export */   "staticGenerationAsyncStorage": () => (/* reexport safe */ next_dist_client_components_static_generation_async_storage__WEBPACK_IMPORTED_MODULE_4__.staticGenerationAsyncStorage),
/* harmony export */   "tree": () => (/* binding */ tree)
/* harmony export */ });
/* harmony import */ var next_dist_client_components_app_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2286);
/* harmony import */ var next_dist_client_components_app_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_app_router__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var next_dist_client_components_layout_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(65717);
/* harmony import */ var next_dist_client_components_layout_router__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_layout_router__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var next_dist_client_components_render_from_template_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(88353);
/* harmony import */ var next_dist_client_components_render_from_template_context__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_render_from_template_context__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7340);
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var next_dist_client_components_static_generation_async_storage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(79029);
/* harmony import */ var next_dist_client_components_static_generation_async_storage__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_static_generation_async_storage__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var next_dist_client_components_request_async_storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(32458);
/* harmony import */ var next_dist_client_components_request_async_storage__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_request_async_storage__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var next_dist_client_components_hooks_server_context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(94065);
/* harmony import */ var next_dist_client_components_hooks_server_context__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_hooks_server_context__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var next_dist_compiled_react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(68378);

    const tree = {
        children: [
        '',
        {
        children: [
        'video',
        {
        children: [
        '[videoId]',
        {
        children: ['', {}, {
          page: [() => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 11369)), "/home/runner/work/guber/guber/src/app/video/[videoId]/page.tsx"],
          
        }]
      },
        {
          
          
        }
      ]
      },
        {
          
          
        }
      ]
      },
        {
          'layout': [() => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 14838)), "/home/runner/work/guber/guber/src/app/layout.tsx"],
          metadata: {
    icon: [() => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 51656))],
    apple: [],
    opengraph: [],
    twitter: [],
  }
        }
      ]
      }.children;
    const pages = ["/home/runner/work/guber/guber/src/app/video/[videoId]/page.tsx"];

    
    
    
    

    
    
    

    

    
    const __next_app_webpack_require__ = __webpack_require__
  

/***/ }),

/***/ 43023:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 84440))

/***/ }),

/***/ 11369:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ Page)
});

// EXTERNAL MODULE: ./node_modules/next/dist/compiled/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(54458);
;// CONCATENATED MODULE: ./src/app/fetch-video.ts
async function getVidoeData(videoId) {
    let resp = await fetch(`http://localhost:3000/api/video/${videoId}`, {
        next: {
            revalidate: 10
        }
    });
    return resp.json();
}

// EXTERNAL MODULE: ./src/lib/components/player.tsx
var player = __webpack_require__(41929);
var player_default = /*#__PURE__*/__webpack_require__.n(player);
// EXTERNAL MODULE: ./src/logger.ts
var logger = __webpack_require__(4112);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/react/react.shared-subset.js
var react_shared_subset = __webpack_require__(91094);
;// CONCATENATED MODULE: ./src/app/video/[videoId]/page.tsx





async function Page({ params , searchParams  }) {
    console.log(logger/* logger.log */.k.log());
    console.log(params);
    const video = await getVidoeData(params.videoId);
    const section = video.section[0];
    console.log("^^^^^");
    return /*#__PURE__*/ (0,jsx_runtime.jsxs)("div", {
        children: [
            /*#__PURE__*/ jsx_runtime.jsx("h1", {
                className: "text-3xl font-bold",
                children: video.title
            }),
            /*#__PURE__*/ jsx_runtime.jsx((player_default()), {
                videoId: video.videoId,
                sections: video.section,
                startPos: searchParams.startPos,
                endPos: searchParams.endPos
            })
        ]
    });
}


/***/ }),

/***/ 41929:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/* __next_internal_client_entry_do_not_use__ default */ const { createProxy  } = __webpack_require__(21399);
module.exports = createProxy("/home/runner/work/guber/guber/src/lib/components/player.tsx");


/***/ }),

/***/ 4112:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "k": () => (/* binding */ logger)
/* harmony export */ });
/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(15279);
/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_headers__WEBPACK_IMPORTED_MODULE_0__);


const logger = {
    log: ()=>{
        console.log((0,next_headers__WEBPACK_IMPORTED_MODULE_0__.headers)().get("x-request-id"));
    }
};


/***/ }),

/***/ 84440:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ Player)
});

// EXTERNAL MODULE: external "next/dist/compiled/react/jsx-runtime"
var jsx_runtime_ = __webpack_require__(56786);
// EXTERNAL MODULE: external "next/dist/compiled/react"
var react_ = __webpack_require__(18038);
// EXTERNAL MODULE: ./node_modules/react-player/youtube.js
var youtube = __webpack_require__(52829);
var youtube_default = /*#__PURE__*/__webpack_require__.n(youtube);
// EXTERNAL MODULE: ./node_modules/@mui/material/node/Button/index.js
var Button = __webpack_require__(98511);
var Button_default = /*#__PURE__*/__webpack_require__.n(Button);
// EXTERNAL MODULE: ./node_modules/@mui/material/node/index.js
var node = __webpack_require__(64085);
// EXTERNAL MODULE: ./node_modules/screenfull/index.js
var screenfull = __webpack_require__(84230);
;// CONCATENATED MODULE: ./src/lib/components/section-list.tsx

function SectionList(props) {
    console.log(props.items);
    return /*#__PURE__*/ jsx_runtime_.jsx("ul", {
        children: props.items.map((section)=>/*#__PURE__*/ jsx_runtime_.jsx("li", {
                children: /*#__PURE__*/ jsx_runtime_.jsx("a", {
                    href: `/video/${props.videoId}?startPos=${section.start}&endPos=${section.end}`,
                    children: section.title
                })
            }, section.title))
    });
}

;// CONCATENATED MODULE: ./src/lib/components/player.tsx







function Player(props) {
    const firstSection = props.sections[0];
    const [shouldRenderReactPlayer, setShouldRenderReactPlayer] = (0,react_.useState)(false);
    const inputRef = (0,react_.useRef)(null);
    const [playbackRate, setPlaybackRate] = (0,react_.useState)(1.0);
    const [startPos, setStartPos] = (0,react_.useState)(props.startPos);
    const [endPos, setEndPos] = (0,react_.useState)(props.endPos);
    const [loop, setLoop] = (0,react_.useState)(false);
    const [volume, setVolume] = (0,react_.useState)(85);
    const [elapsedTime, setElapsedTime] = (0,react_.useState)("0:00");
    (0,react_.useEffect)(()=>{
        setShouldRenderReactPlayer(true);
    }, []);
    const [url, setUrl] = (0,react_.useState)("");
    const [videoId, setVideoId] = (0,react_.useState)(props.videoId);
    (0,react_.useEffect)(()=>{
        setUrl(`https://www.youtube.com/watch?v=${videoId}`);
    }, [
        videoId
    ]);
    (0,react_.useEffect)(()=>{
        return ()=>{
            if (!loop) {
                seekTo();
            }
        };
    }, [
        loop
    ]);
    const [playing, setPlaying] = (0,react_.useState)(false);
    const stopVideo = ()=>{
        setPlaying(false);
    //setUrl("");
    };
    const handleProgress = (progress)=>{
        const { playedSeconds  } = progress;
        const minutes = Math.floor(playedSeconds / 60.0);
        const remainSeconds = Math.floor(playedSeconds % 60);
        setElapsedTime(`${minutes}:${("00" + remainSeconds).slice(-2)}`);
        if (loop) {
            if (playedSeconds >= endPos) {
                inputRef.current.seekTo(startPos);
            }
        }
    };
    const makeFullScreen = ()=>{
        console.log(inputRef.current);
        const el = inputRef.current;
        screenfull/* default.request */.Z.request(el);
    };
    const seekTo = ()=>{
        inputRef.current?.seekTo(startPos);
    };
    const startVideo = ()=>{
        inputRef.current.seekTo(startPos);
        setPlaying(true);
    };
    return /*#__PURE__*/ jsx_runtime_.jsx("div", {
        children: shouldRenderReactPlayer ? /*#__PURE__*/ jsx_runtime_.jsx("div", {
            children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)(node.Grid, {
                container: true,
                spacing: "24",
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx(node.Grid, {
                        item: true,
                        children: /*#__PURE__*/ jsx_runtime_.jsx((youtube_default()), {
                            ref: inputRef,
                            url: url,
                            playing: playing,
                            controls: true,
                            config: {
                                playerVars: {
                                    autoplay: 0,
                                    controls: 1
                                }
                            },
                            volume: volume,
                            playbackRate: playbackRate,
                            onProgress: handleProgress
                        })
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(node.Grid, {
                        item: true,
                        xs: 12,
                        children: /*#__PURE__*/ jsx_runtime_.jsx(SectionList, {
                            videoId: videoId,
                            items: props.sections
                        })
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)(node.Grid, {
                        item: true,
                        xs: 12,
                        children: [
                            "Elapsed Time: ",
                            elapsedTime
                        ]
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(node.Grid, {
                        item: true,
                        xs: 2,
                        children: /*#__PURE__*/ jsx_runtime_.jsx(node.TextField, {
                            label: "Start Position",
                            value: startPos,
                            onChange: (event)=>{
                                setStartPos(parseInt(event.target.value));
                            }
                        })
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(node.Grid, {
                        item: true,
                        xs: 2,
                        children: /*#__PURE__*/ jsx_runtime_.jsx(node.TextField, {
                            label: "End Position",
                            value: endPos,
                            onChange: (event)=>{
                                setEndPos(parseInt(event.target.value));
                            }
                        })
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(node.Grid, {
                        item: true,
                        xs: 2,
                        children: /*#__PURE__*/ jsx_runtime_.jsx(node.FormControlLabel, {
                            label: "Loop",
                            control: /*#__PURE__*/ jsx_runtime_.jsx(node.Checkbox, {
                                value: loop,
                                onChange: (event)=>{
                                    setLoop(event.target.checked);
                                }
                            })
                        })
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(node.Grid, {
                        item: true,
                        xs: 12,
                        children: /*#__PURE__*/ jsx_runtime_.jsx(node.FormControlLabel, {
                            label: "Playback Speed",
                            labelPlacement: "top",
                            control: /*#__PURE__*/ jsx_runtime_.jsx(node.Slider, {
                                value: playbackRate,
                                onChange: (event, value)=>{
                                    setPlaybackRate(parseFloat(value.toString()));
                                },
                                defaultValue: 1,
                                step: .25,
                                marks: true,
                                min: 0,
                                max: 1
                            })
                        })
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(node.Grid, {
                        item: true,
                        xs: 12,
                        children: /*#__PURE__*/ jsx_runtime_.jsx(node.FormControlLabel, {
                            label: "Volume",
                            labelPlacement: "top",
                            control: /*#__PURE__*/ jsx_runtime_.jsx(node.Slider, {
                                value: volume,
                                onChange: (event, value)=>{
                                    const b = parseFloat(value.toString());
                                    setVolume(b);
                                },
                                defaultValue: .85,
                                step: .01,
                                marks: true,
                                min: 0,
                                max: 1.0
                            })
                        })
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)(node.Grid, {
                        item: true,
                        xs: 12,
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx((Button_default()), {
                                onClick: startVideo,
                                children: "Start"
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx((Button_default()), {
                                onClick: stopVideo,
                                children: "Stop"
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx((Button_default()), {
                                onClick: seekTo,
                                children: "Seek"
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx((Button_default()), {
                                onClick: makeFullScreen,
                                children: "Full Screen"
                            })
                        ]
                    })
                ]
            })
        }) : /*#__PURE__*/ jsx_runtime_.jsx("div", {})
    });
}


/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, [359,153,385,342,537], () => (__webpack_exec__(41808)));
module.exports = __webpack_exports__;

})();